Add engines information to the version command.

--- openssl-engine-0.9.6a/apps/version.c.orig	Sat Jun 30 14:37:21 2001
+++ openssl-engine-0.9.6a/apps/version.c	Sat Jun 30 14:40:35 2001
@@ -62,6 +62,7 @@
 #include "apps.h"
 #include <openssl/evp.h>
 #include <openssl/crypto.h>
+#include <openssl/engine.h>
 
 #undef PROG
 #define PROG	version_main
@@ -71,7 +72,7 @@
 int MAIN(int argc, char **argv)
 	{
 	int i,ret=0;
-	int cflags=0,version=0,date=0,options=0,platform=0;
+	int cflags=0,version=0,date=0,options=0,platform=0,engines=0;
 
 	apps_startup();
 
@@ -92,11 +93,13 @@
 			options=1;
 		else if (strcmp(argv[i],"-p") == 0)
 			platform=1;
+		else if (strcmp(argv[i],"-e") == 0)
+			engines=1;
 		else if (strcmp(argv[i],"-a") == 0)
-			date=version=cflags=options=platform=1;
+			date=version=cflags=options=platform=engines=1;
 		else
 			{
-			BIO_printf(bio_err,"usage:version -[avbofp]\n");
+			BIO_printf(bio_err,"usage:version -[avbofpe]\n");
 			ret=1;
 			goto end;
 			}
@@ -127,6 +130,16 @@
 		printf("\n");
 		}
 	if (cflags)  printf("%s\n",SSLeay_version(SSLEAY_CFLAGS));
+	if (engines) {
+	    ENGINE *h;
+	    printf("engines:");
+	    h = ENGINE_get_first();
+	    while (h) {
+	        printf(" %s", ENGINE_get_id(h));
+		h = ENGINE_get_next(h);
+	    }
+	    printf("\n");
+	}
 end:
 	EXIT(ret);
 	}
